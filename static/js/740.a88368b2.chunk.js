"use strict";(self.webpackChunkair_travel_pattern_and_safety=self.webpackChunkair_travel_pattern_and_safety||[]).push([[51,740],{51:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o,splitDescriptionIntoLines:()=>s});var n=a(43),r=a(452),i=a(579);function s(t,e){const a=t.split(" ");let n=[],r="";for(let i=0;i<a.length;i++)(r+(r?" ":"")+a[i]).length<=e?r+=(r?" ":"")+a[i]:(r&&n.push(r),r=a[i].trim());return r&&n.push(r),n}const o=()=>{const[t,e]=(0,n.useState)([]);return(0,n.useEffect)((()=>{function t(e,a,n){e.attr("opacity",1).transition().duration(7e3).ease(r.yfw).attrTween("transform",function(t,e){var a=t.getTotalLength();return function(n,r,i){return function(n){var r=t.getPointAtLength(n*a),i=r.y-e-30;return"translate("+r.x+","+i+")"}}}(a.node(),n)).on("end",(function(){e.attr("opacity",0),t(r.Ltv(this),a,n)}))}function e(t,e){let a=0,n=0;if(e<t.length-1){const r=t[e].x,i=t[e].y,s=t[e+1].x,o=(t[e+1].y-i)/(s-r);Math.abs(o)>1?(a=o>0?-15:30,n=22.5):(a=22.5,n=o>0?-30:30)}return e===t.length-1&&(a=0,n=-24),{xOffset:a,yOffset:n}}function a(t,e,a){const n=t.split(" "),i=[];let s="",o=0;const l=r.Ltv("svg").append("text").style("font-size","20px").style("font-family","Open Sans");return n.forEach((t=>{s+=t+" ",l.text(s),l.node().getComputedTextLength()>e&&(i.push(s.trim()),30*i.length>=a&&0===o&&(e/=3,o=1),s=t+" ")})),s&&i.push(s.trim()),l.remove(),i}r.fu7("/Data_visualization/data/Safety_measures.csv").then((n=>{!function(n){const i=r.Ltv("#timeline-line").append("g").attr("transform","translate(10, 40)"),o=+r.Ltv("#timeline-line").style("width").replace("px","")-30,l=+r.Ltv("#timeline-line").style("height").replace("px","")-40-150,c=o/n.length;n.forEach(((t,e)=>{t.x=e*c+20,t.y=l-(e/5*l/5-80*Math.sin(e/5*Math.PI))+25}));const d=r.n8j().x((t=>t.x)).y((t=>t.y)).curve(r.oDi);i.selectAll(".card").data(n).join("rect").attr("class","card").attr("rx",5).attr("ry",5).attr("fill","#fff").attr("fill-opacity",.5).attr("stroke","#959595").attr("stroke-width",1.5).attr("stroke-opacity",.5).attr("x",((t,a)=>{var i=s(t["Safety Measure"],10),o=r.T9B(i,(t=>t.length));const{xOffset:l}=e(n,a);return n[a].x-3.5*o+l-2.5})).attr("y",((t,a)=>{const{yOffset:r}=e(n,a);return n[a].y+(r<0?-(15*s(t["Safety Measure"],10).length-1.7*r):r/3)})).attr("width",((t,e)=>{var a=s(t["Safety Measure"],10);return 7*r.T9B(a,(t=>t.length))+5})).attr("height",((t,e)=>15*s(t["Safety Measure"],10).length+30)).on("mouseover",(function(t,e){r.Ltv("#tooltip-timeline").style("left",`${t.clientX}px`).style("top",t.clientY-225+"px").style("visibility","visible").html(`\n                    <strong>${e.Year}: ${e["Safety Measure"]}</strong> <br/> ${e.Description}\n                `)})).on("mousemove",(function(t){r.Ltv("#tooltip-timeline").style("left",`${t.clientX}px`).style("top",t.clientY-225+"px")})).on("mouseout",(function(){r.Ltv("#tooltip-timeline").style("visibility","hidden")}));i.selectAll(".card-text").data(n).join("text").attr("class","card-text").attr("x",((t,a)=>{const{xOffset:r}=e(n,a);return n[a].x+r})).attr("y",((t,a)=>{const{yOffset:r}=e(n,a);return n[a].y+(r<0?-(15*s(t["Safety Measure"],10).length-1.2*r):r+20)})).attr("text-anchor","middle").style("font-size","12px").style("fill","#333").selectAll("tspan").data((t=>s(t["Safety Measure"],10))).join("tspan").attr("x",((t,e,a)=>r.Ltv(a[e].parentNode).attr("x"))).attr("dy",((t,e)=>0===e?0:15)).text((t=>t)),i.selectAll(".label").data(n).join("text").attr("x",((t,a)=>{const{xOffset:r}=e(n,a);return n[a].x+r})).attr("y",((t,a)=>{const{yOffset:r}=e(n,a);return n[a].y+r})).attr("text-anchor","middle").text((t=>`${t.Icon} ${t.Year}`)).style("font-size","15px").style("fill","black");var y=i.append("path").datum(n).attr("d",d).attr("fill","none").attr("stroke","url(#gradient)").attr("stroke-width",3);const p=i.append("defs").append("linearGradient").attr("id","gradient").attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%");p.append("stop").attr("offset","0%").attr("stop-color","blue"),p.append("stop").attr("offset","100%").attr("stop-color","green");i.selectAll(".checkpoint").data(n).join("circle").attr("class","checkpoint").attr("cx",(t=>t.x)).attr("cy",(t=>t.y)).attr("r",10).attr("fill","#d6d6d6").style("stroke","black").style("stroke-width",2).on("mouseover",(function(t,e){r.Ltv("#tooltip-timeline").style("left",`${t.clientX}px`).style("top",t.clientY-225+"px").style("visibility","visible").html(`\n                    <strong>${e.Year}: ${e["Safety Measure"]}</strong> <br/> ${e.Description}\n                `)})).on("mousemove",(function(t){r.Ltv("#tooltip-timeline").style("left",`${t.clientX}px`).style("top",t.clientY-225+"px")})).on("mouseout",(function(){r.Ltv("#tooltip-timeline").style("visibility","hidden")}));var u="From the Wright Brothers\u2019 flight in 1903 to the skies we traverse today, the U.S. aviation industry has consistently pushed the boundaries of innovation to prioritize passenger safety. This timeline captures the evolution of key safety milestones \u2014 from the introduction of seat belts and pressurized cabins in the early 20th century to modern breakthroughs like automated flight tracking systems, and Safety Management Systems (SMS). Recent advancements, including COVID-19 safety protocols and ongoing testing of autonomous aircraft, underscore the industry's ability to adapt to unforeseen challenges. Each milestone not only marks a technical achievement but also reflects an unwavering focus on ensuring air travel is safer, more reliable, and better equipped.";const f=l-n[6].y;i.selectAll(".description").data([1]).join("text").attr("class","description").attr("x",0).attr("y",30).attr("text-anchor","left").style("font-size","20px").style("font-family","Open Sans").style("text-justify","inter-word").style("line-height","32px").attr("fill","#003366").selectAll("tspan").data((t=>a(u,o/3*2.2,f))).join("tspan").attr("x",((t,e,a)=>r.Ltv(a[e].parentNode).attr("x"))).attr("dy",((t,e)=>0===e?0:30)).text((t=>t)),i.append("text").attr("x",o/2).attr("y",-10).attr("text-anchor","middle").style("font-size","30px").text("Safety Measures Timeline").attr("fill","#003366").style("font-weight","bold");var h="The story of aviation safety is one of relentless progress, where each innovation builds upon lessons learned from the past. By connecting technological advancements to tangible outcomes and visualizing it over time, we uncover how data driven strategies and adaptive measures have not only addressed vulnerabilities but also laid the groundwork for a safer and more resilient future in air travel.";i.selectAll(".transition").data([1]).join("text").attr("class","transition").attr("x",o/3+30).attr("y",l).attr("text-anchor","left").style("font-size","20px").style("text-justify","inter-word").style("text-align","justify").style("font-family","Open Sans").style("line-height","32px").attr("fill","#003366").selectAll("tspan").data((t=>a(h,o/3*2-70,l))).join("tspan").attr("x",((t,e,a)=>r.Ltv(a[e].parentNode).attr("x"))).attr("dy",((t,e)=>0===e?0:30)).text((t=>t));t(i.append("text").attr("x",n[0].x-15).attr("y",n[0].y+10).text("\u2708\ufe0f").style("font-weight","bold").style("font-size","30px"),y,l)}(n.map((t=>{return{Year:t.Year||"","Safety Measure":t["Safety Measure"]||"",Description:t.Description||"",Icon:(e=t["Safety Measure"],{"First Seat Belts":"\ud83d\udd10","Life Jackets (Mae West)":"\ud83e\uddba","Pressurized Cabins":"\ud83d\udeeb","Smoke Detection Systems":"\ud83d\udd25","Ground Proximity Warning":"\ud83d\udce1","Emergency Locator Transmitter":"\ud83d\udce1","Reinforced Cockpit Doors":"\ud83d\udeaa","Enhanced GPWS":"\ud83d\udce1","Fatigue Risk Management":"\ud83d\ude34","Safety Management Systems (SMS)":"\ud83d\udee1\ufe0f","Pilot Qualification Standards":"\u2708\ufe0f","NextGen Data Comm":"\ud83d\udcbb","Flight Tracking Requirements":"\ud83d\udef0\ufe0f","ADS-B Introduction":"\ud83d\udef0\ufe0f","Enhanced Two-Person Cockpit Rule":"\ud83d\udc65","ADS-B Mandate Preparation":"\ud83d\udef0\ufe0f","Lithium Battery Restrictions":"\ud83d\udd0b","COVID-19 Aviation Safety Protocol":"\ud83e\udda0","Autonomous Aircraft":"\ud83e\udd16"}[e]||"\u2708\ufe0f")};var e})).sort(((t,e)=>parseInt(t.Year)-parseInt(e.Year))))})).catch((t=>{console.error("Error loading the CSV data: ",t)}))}),[]),(0,i.jsxs)("div",{id:"timeline-container",className:"timeline-container",children:[(0,i.jsx)("svg",{id:"timeline-line"}),(0,i.jsx)("div",{className:"tooltip-timeline",id:"tooltip-timeline",style:{position:"absolute",visibility:"hidden"}})]})}},740:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});var n=a(452),r=a(43),i=a(492),s=a(51),o=a(579);const l=()=>{var{airport:t}=(0,r.useContext)(i.Z);return(0,r.useEffect)((()=>{n.Ltv("#sunburst").selectAll("*").remove(),n.fu7("/Data_visualization/data/flight_delay_data.csv").then((e=>{var a;void 0!==t&&null!==t&&""!==t||(t={city_name:"USA"}),a="USA"===t.city_name?"Overview of All Airports Across the U.S.":`Detailed Insights for Airport: ${t.city_name}`;const r=e.filter((e=>e.origin_city_name.includes(t.city_name.split(",")[0])));0===r.length&&(console.warn(`No data found for airport: ${t.city_name}`),a=`No data found for airport: ${t.city_name}`);const i=+n.Ltv("#sunburst").style("width").replace("px",""),o=+n.Ltv("#sunburst").style("height").replace("px",""),l=Math.min(i,o)/7,c=n.Ltv("#sunburst").append("g").attr("transform",`translate(${i/2}, ${o/2})`).attr("viewBox",[-i/2,-o/2,i,i]).style("font","10px sans-serif");c.selectAll("#svg_label").data([a]).join("text").attr("x",-l/2).attr("y",3*l).attr("text-anchor","middle").style("font-size","20px").attr("id","svg_label").attr("fill","#003366").style("font-weight","bold").selectAll("tspan").data((t=>(0,s.splitDescriptionIntoLines)(t,50))).join("tspan").attr("x",((t,e,a)=>n.Ltv(a[e].parentNode).attr("x"))).attr("dy",((t,e)=>0===e?0:25)).text((t=>t));const d={name:"Flight",children:[{name:"No Delay",key:"no_delay",size:+r[0].no_delay},{name:"Departure Delay",key:"dep_delay",size:+r[0].dep_delay},{name:"Arrival Delay",key:"arr_delay",children:[{name:"Weather",key:"weather_delay_count",size:+r[0].weather_delay_count},{name:"Carrier",key:"carrier_delay_count",size:+r[0].carrier_delay_count},{name:"Security",key:"security_delay_count",size:+r[0].security_delay_count},{name:"NAS",key:"nas_delay_count",size:+r[0].nas_delay_count},{name:"Late Aircraft",key:"late_aircraft_delay_count",size:+r[0].late_aircraft_delay_count}]},{name:"Diverted",key:"diverted",size:+r[0].diverted},{name:"Cancelled",key:"cancelled",children:[{name:"Code A",key:"cancellation_code_a",size:+r[0].cancellation_code_a},{name:"Code B",key:"cancellation_code_b",size:+r[0].cancellation_code_b},{name:"Code C",key:"cancellation_code_c",size:+r[0].cancellation_code_c},{name:"Code D",key:"cancellation_code_d",size:+r[0].cancellation_code_d}]}]},y=n.UMr(n.ydU(n.SVL,d.children.length+1)),p=n.Sk5(d).sum((t=>t.size)).sort(((t,e)=>e.size-t.size)),u=n.jBG().size([2*Math.PI,p.height+1])(p);u.each((t=>t.current=t));var f=n.Ltv("body").append("div").attr("class","tooltip-delay").style("opacity",0);const h=n.JLW().startAngle((t=>t.x0)).endAngle((t=>t.x1)).padAngle((t=>Math.min((t.x1-t.x0)/2,.005))).padRadius(1.5*l).innerRadius((t=>t.y0*l)).outerRadius((t=>Math.max(t.y0*l,t.y1*l-1))),x=c.append("g").selectAll("path").data(u.descendants().slice(1)).join("path").attr("fill",(t=>{for(;t.depth>1;)t=t.parent;return y(t.data.name)})).attr("fill-opacity",(t=>_(t.current)?t.children?.9:.6:0)).attr("pointer-events",(t=>_(t.current)?"auto":"none")).attr("d",(t=>h(t.current))).on("mouseover",(function(t,e){f.style("opacity",1),f.html(`${e.data.name}: ${r[0][e.data.key]}`).style("left",t.pageX+"px").style("top",t.pageY-10+"px")})).on("mousemove",(function(t){f.style("left",t.pageX+"px").style("top",t.pageY-10+"px")})).on("mouseout",(function(){f.transition().duration(500).style("opacity",0)}));x.filter((t=>t.children)).style("cursor","pointer").on("click",v);const m=c.append("g").attr("pointer-events","none").attr("text-anchor","middle").style("user-select","none").selectAll("text").data(u.descendants().slice(1)).join("text").attr("dy","0.35em").attr("fill-opacity",(t=>+b(t.current))).attr("transform",(t=>k(t.current))).text((t=>t.data.name)),g=c.append("circle").datum(u).attr("r",l).attr("fill","none").attr("pointer-events","all").on("click",v);function v(t,e){g.datum(e.parent||u),u.each((t=>t.target={x0:2*Math.max(0,Math.min(1,(t.x0-e.x0)/(e.x1-e.x0)))*Math.PI,x1:2*Math.max(0,Math.min(1,(t.x1-e.x0)/(e.x1-e.x0)))*Math.PI,y0:Math.max(0,t.y0-e.depth),y1:Math.max(0,t.y1-e.depth)}));const a=c.transition().duration(750);x.transition(a).tween("data",(t=>{const e=n.GWP(t.current,t.target);return a=>t.current=e(a)})).filter((function(t){return+this.getAttribute("fill-opacity")||_(t.target)})).attr("fill-opacity",(t=>_(t.target)?t.children?.8:.4:0)).attr("pointer-events",(t=>_(t.target)?"auto":"none")).attrTween("d",(t=>()=>h(t.current))),m.filter((function(t){return+this.getAttribute("fill-opacity")||b(t.target)})).transition(a).attr("fill-opacity",(t=>+b(t.target))).attrTween("transform",(t=>()=>k(t.current)))}function _(t){return t.y1<=3&&t.y0>=1&&t.x1>t.x0}function b(t){return t.y1<=3&&t.y0>=1&&(t.y1-t.y0)*(t.x1-t.x0)>.03}function k(t){const e=(t.x0+t.x1)/2*180/Math.PI;return`rotate(${e-90}) translate(${(t.y0+t.y1)/2*l},0) rotate(${e<180?0:180})`}c.append("text").attr("x",-l/2).attr("y",3.2*-l).attr("text-anchor","middle").style("font-size","26px").text("Flight Delays and Cancellations").attr("fill","#003366").style("font-weight","bold");const S=c.append("g").attr("class","legend").attr("transform",`translate(${1.65*l}, ${2.8*-l})`);S.append("text").attr("x",10).attr("y",10).attr("text-anchor","center").style("font-size","18px").text("Cancellation Codes").attr("fill","#003366").style("font-weight","bold"),S.append("text").attr("x",10).attr("y",30).attr("text-anchor","center").style("font-size","15px").text("Code A - Carrier").attr("fill","#003366"),S.append("text").attr("x",10).attr("y",50).attr("text-anchor","center").style("font-size","15px").text("Code B - Weather").attr("fill","#003366"),S.append("text").attr("x",10).attr("y",70).attr("text-anchor","center").style("font-size","15px").text("Code C - NAS").attr("fill","#003366"),S.append("text").attr("x",10).attr("y",90).attr("text-anchor","center").style("font-size","15px").text("Code D - Security").attr("fill","#003366")})).catch((t=>{console.error("Error loading the CSV data: ",t)}))}),[t]),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"flightDelayText",children:"Air travel is a marvel of modern logistics, yet delays and cancellations remain persistent hurdles, impacting both passengers and operations. This sunburst chart unpacks the story behind these disruptions, ranging from weather disruptions and carrier delays to issues like air traffic control and mechanical failures. It offers a layered perspective, allowing us to explore the interplay of these factors at both the national and local levels. By delving into this data, we gain valuable insights into the pressure points within the aviation system, offering actionable insights to enhance efficiency and reliability for travelers across the U.S."}),(0,o.jsx)("svg",{id:"sunburst"})]})}}}]);
//# sourceMappingURL=740.a88368b2.chunk.js.map