{"version":3,"file":"static/js/978.4053796d.chunk.js","mappings":"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","sources":["components/Heatmap.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport * as d3 from 'd3';\r\nimport '../styles/Heatmap.css';\r\nconst stateAbbreviationToName = {\r\n    AL: \"Alabama\", AK: \"Alaska\", AZ: \"Arizona\", AR: \"Arkansas\", CA: \"California\",\r\n    CO: \"Colorado\", CT: \"Connecticut\", DE: \"Delaware\", FL: \"Florida\", GA: \"Georgia\",\r\n    HI: \"Hawaii\", ID: \"Idaho\", IL: \"Illinois\", IN: \"Indiana\", IA: \"Iowa\",\r\n    KS: \"Kansas\", KY: \"Kentucky\", LA: \"Louisiana\", ME: \"Maine\", MD: \"Maryland\",\r\n    MA: \"Massachusetts\", MI: \"Michigan\", MN: \"Minnesota\", MS: \"Mississippi\", MO: \"Missouri\",\r\n    MT: \"Montana\", NE: \"Nebraska\", NV: \"Nevada\", NH: \"New Hampshire\", NJ: \"New Jersey\",\r\n    NM: \"New Mexico\", NY: \"New York\", NC: \"North Carolina\", ND: \"North Dakota\", OH: \"Ohio\",\r\n    OK: \"Oklahoma\", OR: \"Oregon\", PA: \"Pennsylvania\", RI: \"Rhode Island\", SC: \"South Carolina\",\r\n    SD: \"South Dakota\", TN: \"Tennessee\", TX: \"Texas\", UT: \"Utah\", VT: \"Vermont\",\r\n    VA: \"Virginia\", WA: \"Washington\", WV: \"West Virginia\", WI: \"Wisconsin\", WY: \"Wyoming\"\r\n};\r\nconst Heatmap = () => {\r\n    useEffect(() => {\r\n        Promise.all([\r\n            d3.json(`${process.env.PUBLIC_URL}/data/geojson.json`),\r\n            d3.csv(`${process.env.PUBLIC_URL}/data/State_Wise_Passenger_Count.csv`)\r\n        ]).then(([geoData, csvData]) => {\r\n            csvData.forEach(d => {\r\n                d.State = stateAbbreviationToName[d.STATE] || d.State;\r\n            });\r\n            const passengerData = d3.rollup(\r\n                csvData,\r\n                v => d3.sum(v, d => +d.Departure_Passenger_Count + +d.Arriving_Passenger_Count),\r\n                d => d.State\r\n            );\r\n            geoData.features.forEach(feature => {\r\n                const stateName = feature.properties.NAME;\r\n                feature.properties.arrival_count = csvData\r\n                    .filter(d => d.State === stateName)\r\n                    .reduce((sum, d) => sum + +d.Arriving_Passenger_Count, 0);\r\n                feature.properties.departure_count = csvData\r\n                    .filter(d => d.State === stateName)\r\n                    .reduce((sum, d) => sum + +d.Departure_Passenger_Count, 0);\r\n                feature.properties.passenger_count = passengerData.get(stateName) || 0;\r\n            });\r\n            renderHeatmap(geoData);\r\n        }).catch(error => console.error('Error loading data:', error));\r\n    }, []);\r\n    const renderHeatmap = (geoData) => {\r\n        const width = +d3.select(\"#heatmap\").style(\"width\").replace(\"px\", \"\");\r\n        const height = +d3.select(\"#heatmap\").style(\"height\").replace(\"px\", \"\");\r\n        const svg = d3.select('#heatmap')\r\n            .append('g')\r\n            .attr('transform', `translate(0, 20)`);\r\n\r\n        svg.append(\"text\")\r\n            .attr(\"x\", (width / 5) * 3)\r\n            .attr(\"y\", 0)\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .style(\"font-size\", \"26px\")\r\n            .text(\"Passenger Traffic Analysis\")\r\n            .attr(\"fill\", \"#003366\")\r\n            .style(\"font-weight\", \"bold\")\r\n\r\n        const projection = d3.geoAlbersUsa().fitSize([width + 100, height - 80], geoData);\r\n        const path = d3.geoPath().projection(projection);\r\n        const colorScale = d3.scaleSqrt()\r\n            .domain([0, d3.max(geoData.features, d => d.properties.passenger_count)])\r\n            .range([\"#f7fbff\", \"#08306b\"]);\r\n        svg.selectAll('path')\r\n            .data(geoData.features)\r\n            .enter()\r\n            .append('path')\r\n            .attr('d', path)\r\n            .attr('fill', d => colorScale(d.properties.passenger_count))\r\n            .attr('stroke', '#000')\r\n            .attr('stroke-width', 0.5)\r\n            .on('mouseover', (event, d) => {\r\n                const { NAME, arrival_count, departure_count } = d.properties;\r\n                d3.select('#tooltip-heatmap')\r\n                    .style('left', `${event.pageX + 10}px`)\r\n                    .style('top', `${event.pageY + 10}px`)\r\n                    .style('visibility', 'visible')\r\n                    .html(`<strong>${NAME}</strong><br/>\r\n            <strong>Arrivals:</strong> ${arrival_count}<br/>\r\n            <strong>Departures:</strong> ${departure_count}`);\r\n            })\r\n            .on('mouseout', () => {\r\n                d3.select('#tooltip-heatmap').style('visibility', 'hidden');\r\n            });\r\n        d3.select('body').append('div')\r\n            .attr('id', 'tooltip-heatmap')\r\n            .style('position', 'absolute')\r\n            .style('background', '#fff')\r\n            .style('padding', '5px')\r\n            .style('border', '1px solid #ccc')\r\n            .style('border-radius', '5px')\r\n            .style('visibility', 'hidden');\r\n\r\n        const legendGroup = svg.append('g')\r\n            .attr('id', 'legend')\r\n            .attr('transform', `translate(${width - 350}, ${height - 70})`);\r\n        const defs = svg.append('defs');\r\n        const gradient = defs.append('linearGradient')\r\n            .attr('id', 'legend-gradient')\r\n            .attr('x1', '0%')\r\n            .attr('x2', '100%')\r\n            .attr('y1', '0%')\r\n            .attr('y2', '0%');\r\n        gradient.append('stop').attr('offset', '0%').attr('stop-color', '#f7fbff');\r\n        gradient.append('stop').attr('offset', '100%').attr('stop-color', '#08306b');\r\n        legendGroup.append('rect')\r\n            .attr('x', 0)\r\n            .attr('y', 0)\r\n            .attr('width', 300)\r\n            .attr('height', 20)\r\n            .style('fill', 'url(#legend-gradient)');\r\n        const passengerDomain = [0, d3.max(geoData.features, d => d.properties.passenger_count)];\r\n        legendGroup.selectAll('text')\r\n            .data(passengerDomain)\r\n            .enter()\r\n            .append('text')\r\n            .attr('x', (d, i) => i * 300)\r\n            .attr('y', 35)\r\n            .style('text-anchor', (d, i) => (i === 0 ? 'start' : 'end'))\r\n            .text(d => d3.format(',')(d))\r\n            .style('font-size', '12px')\r\n            .style('fill', '#000');\r\n    };\r\n    return (\r\n        <div class=\"side-by-side-container\">\r\n            <p class=\"heatmapText\">The choropleth map shown alongside paints a vivid picture of the 2023 passenger traffic landscape, revealing the aviation giants that drive the national network. States like Texas and California emerge as powerhouses, handling immense passenger volumes that underscore their pivotal role in connecting domestic and international routes. Meanwhile, smaller states, with lighter traffic, highlight the importance of regional hubs and niche travel markets. This visualization not only emphasizes the economic and logistical significance of aviation in major states but also showcases the intricate web of interdependence that sustains the broader U.S. air travel ecosystem.</p>\r\n            <svg id='heatmap'></svg>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Heatmap;\r\n\r\n"],"names":["stateAbbreviationToName","AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","Heatmap","useEffect","Promise","all","d3","then","_ref","geoData","csvData","forEach","d","State","STATE","passengerData","v","Departure_Passenger_Count","Arriving_Passenger_Count","features","feature","stateName","properties","NAME","arrival_count","filter","reduce","sum","departure_count","passenger_count","get","renderHeatmap","catch","error","console","width","style","replace","height","svg","append","attr","text","projection","fitSize","path","colorScale","domain","range","selectAll","data","enter","on","event","pageX","pageY","html","legendGroup","gradient","passengerDomain","i","_jsxs","class","children","_jsx","id"],"sourceRoot":""}