{"version":3,"file":"static/js/740.a88368b2.chunk.js","mappings":"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","sources":["components/SafetyMeasures.js","components/flight_delay.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport \"../styles/timeline-chart.css\";\r\n\r\n// Utility function to get icon for safety measure\r\nconst getIconForSafetyMeasure = (measure) => {\r\n  const iconMap = {\r\n    \"First Seat Belts\": \"üîê\",\r\n    \"Life Jackets (Mae West)\": \"ü¶∫\",\r\n    \"Pressurized Cabins\": \"üõ´\",\r\n    \"Smoke Detection Systems\": \"üî•\",\r\n    \"Ground Proximity Warning\": \"üì°\",\r\n    \"Emergency Locator Transmitter\": \"üì°\",\r\n    \"Reinforced Cockpit Doors\": \"üö™\",\r\n    \"Enhanced GPWS\": \"üì°\",\r\n    \"Fatigue Risk Management\": \"üò¥\",\r\n    \"Safety Management Systems (SMS)\": \"üõ°Ô∏è\",\r\n    \"Pilot Qualification Standards\": \"‚úàÔ∏è\",\r\n    \"NextGen Data Comm\": \"üíª\",\r\n    \"Flight Tracking Requirements\": \"üõ∞Ô∏è\",\r\n    \"ADS-B Introduction\": \"üõ∞Ô∏è\",\r\n    \"Enhanced Two-Person Cockpit Rule\": \"üë•\",\r\n    \"ADS-B Mandate Preparation\": \"üõ∞Ô∏è\",\r\n    \"Lithium Battery Restrictions\": \"üîã\",\r\n    \"COVID-19 Aviation Safety Protocol\": \"ü¶†\",\r\n    \"Autonomous Aircraft\": \"ü§ñ\",\r\n  };\r\n\r\n  return iconMap[measure] || \"‚úàÔ∏è\";\r\n};\r\n\r\nexport function splitDescriptionIntoLines(description, maxWidth) {\r\n  const words = description.split(\" \");\r\n  let lines = [];\r\n  let currentLine = \"\";\r\n  for (let i = 0; i < words.length; i++) {\r\n    if ((currentLine + (currentLine ? \" \" : \"\") + words[i]).length <= maxWidth) {\r\n      currentLine += (currentLine ? \" \" : \"\") + words[i];\r\n    } else {\r\n      if (currentLine) { lines.push(currentLine); }\r\n      currentLine = words[i].trim();\r\n    }\r\n  }\r\n  if (currentLine) lines.push(currentLine);\r\n\r\n  return lines;\r\n}\r\n\r\nconst AviationSafetyTimeline = () => {\r\n  const [timelineData, setTimelineData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    d3.csv(`${process.env.PUBLIC_URL}/data/Safety_measures.csv`)\r\n      .then(rawData => {\r\n        const parsedData = rawData.map((row) => ({\r\n          Year: row.Year || \"\",\r\n          \"Safety Measure\": row[\"Safety Measure\"] || \"\",\r\n          Description: row.Description || \"\",\r\n          Icon: getIconForSafetyMeasure(row[\"Safety Measure\"]),\r\n        }));\r\n        const sortedData = parsedData.sort(\r\n          (a, b) => parseInt(a.Year) - parseInt(b.Year)\r\n        );\r\n        createTimeline(sortedData);\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Error loading the CSV data: \", error);\r\n      });\r\n\r\n    function createTimeline(data) {\r\n      const g = d3.select(\"#timeline-line\")\r\n        .append('g')\r\n        .attr(\"transform\", `translate(10, 40)`);\r\n\r\n      const width = +d3.select(\"#timeline-line\").style(\"width\").replace(\"px\", \"\") - 30;\r\n      const svgheight = +d3.select(\"#timeline-line\").style(\"height\").replace(\"px\", \"\") - 40;\r\n      const height = svgheight - 150\r\n      const stepX = width / data.length;\r\n\r\n      data.forEach((d, i) => {\r\n        d.x = (i * stepX) + 20;\r\n        d.y = height - (i / 5 * height / 5 - 80 * Math.sin((i / 5) * Math.PI)) + 25;\r\n      });\r\n\r\n      const lineGenerator = d3.line()\r\n        .x(d => d.x)\r\n        .y(d => d.y)\r\n        .curve(d3.curveCatmullRom);\r\n\r\n      g.selectAll(\".card\")\r\n        .data(data)\r\n        .join(\"rect\")\r\n        .attr(\"class\", \"card\")\r\n        .attr(\"rx\", 5)\r\n        .attr(\"ry\", 5)\r\n        .attr(\"fill\", \"#fff\")\r\n        .attr(\"fill-opacity\", 0.5)\r\n        .attr(\"stroke\", \"#959595\")\r\n        .attr(\"stroke-width\", 1.5)\r\n        .attr(\"stroke-opacity\", 0.5)\r\n        .attr(\"x\", (d, i) => {\r\n          var lines = splitDescriptionIntoLines(d[\"Safety Measure\"], 10)\r\n          var max = d3.max(lines, l => l.length)\r\n          const { xOffset } = calculateLabelPosition(data, i);\r\n          return data[i].x - (3.5 * max) + xOffset - 2.5;\r\n        })\r\n        .attr(\"y\", (d, i) => {\r\n          const { yOffset } = calculateLabelPosition(data, i);\r\n          return data[i].y + (yOffset < 0 ? -(splitDescriptionIntoLines(d[\"Safety Measure\"], 10).length * 15 - 1.7 * yOffset) : yOffset / 3);\r\n        })\r\n        .attr(\"width\", (d, i) => {\r\n          var lines = splitDescriptionIntoLines(d[\"Safety Measure\"], 10)\r\n          var max = d3.max(lines, l => l.length)\r\n          return 7 * max + 5;\r\n        })\r\n        .attr(\"height\", (d, i) => {\r\n          return splitDescriptionIntoLines(d[\"Safety Measure\"], 10).length * 15 + 30;\r\n        })\r\n        .on(\"mouseover\", function (event, d) {\r\n          d3.select(\"#tooltip-timeline\")\r\n            .style(\"left\", `${event.clientX}px`)\r\n            .style(\"top\", `${event.clientY - 225}px`)\r\n            .style(\"visibility\", \"visible\")\r\n            .html(`\r\n                    <strong>${d.Year}: ${d[\"Safety Measure\"]}</strong> <br/> ${d.Description}\r\n                `);\r\n        })\r\n        .on(\"mousemove\", function (event) {\r\n          d3.select(\"#tooltip-timeline\")\r\n            .style(\"left\", `${event.clientX}px`)\r\n            .style(\"top\", `${event.clientY - 225}px`)\r\n        })\r\n        .on(\"mouseout\", function () {\r\n          d3.select(\"#tooltip-timeline\").style(\"visibility\", \"hidden\");\r\n        });;\r\n\r\n      const textElements = g.selectAll(\".card-text\")\r\n        .data(data)\r\n        .join(\"text\")\r\n        .attr(\"class\", \"card-text\")\r\n        .attr(\"x\", (d, i) => {\r\n          const { xOffset } = calculateLabelPosition(data, i);\r\n          return data[i].x + xOffset;\r\n        })\r\n        .attr(\"y\", (d, i) => {\r\n          const { yOffset } = calculateLabelPosition(data, i);\r\n          return data[i].y + (yOffset < 0 ? -(splitDescriptionIntoLines(d[\"Safety Measure\"], 10).length * 15 - 1.2 * yOffset) : yOffset + 20);\r\n        })\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .style(\"font-size\", \"12px\")\r\n        .style(\"fill\", \"#333\")\r\n        .selectAll(\"tspan\")\r\n        .data(d => {\r\n          return splitDescriptionIntoLines(d[\"Safety Measure\"], 10)\r\n        })\r\n        .join(\"tspan\")\r\n        .attr(\"x\", (d, i, nodes) => d3.select(nodes[i].parentNode).attr(\"x\"))\r\n        .attr(\"dy\", (d, i) => (i === 0 ? 0 : 15))\r\n        .text(d => d);\r\n      const labels = g.selectAll(\".label\")\r\n        .data(data)\r\n        .join(\"text\")\r\n        .attr(\"x\", (d, i) => {\r\n          const { xOffset } = calculateLabelPosition(data, i);\r\n          return data[i].x + xOffset;\r\n        })\r\n        .attr(\"y\", (d, i) => {\r\n          const { yOffset } = calculateLabelPosition(data, i);\r\n          return data[i].y + yOffset;\r\n        })\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .text(d => `${d.Icon} ${d.Year}`)\r\n        .style(\"font-size\", \"15px\")\r\n        .style(\"fill\", \"black\");\r\n\r\n      var path = g.append(\"path\")\r\n        .datum(data)\r\n        .attr(\"d\", lineGenerator)\r\n        .attr(\"fill\", \"none\")\r\n        .attr(\"stroke\", \"url(#gradient)\")\r\n        .attr(\"stroke-width\", 3);\r\n\r\n      const defs = g.append(\"defs\");\r\n\r\n      const gradient = defs.append(\"linearGradient\")\r\n        .attr(\"id\", \"gradient\")\r\n        .attr(\"x1\", \"0%\")\r\n        .attr(\"x2\", \"100%\")\r\n        .attr(\"y1\", \"0%\")\r\n        .attr(\"y2\", \"0%\");\r\n\r\n      gradient.append(\"stop\")\r\n        .attr(\"offset\", \"0%\")\r\n        .attr(\"stop-color\", \"blue\");\r\n\r\n      gradient.append(\"stop\")\r\n        .attr(\"offset\", \"100%\")\r\n        .attr(\"stop-color\", \"green\");\r\n\r\n      const checkpoints = g.selectAll(\".checkpoint\")\r\n        .data(data)\r\n        .join(\"circle\")\r\n        .attr(\"class\", \"checkpoint\")\r\n        .attr(\"cx\", d => d.x)\r\n        .attr(\"cy\", d => d.y)\r\n        .attr(\"r\", 10)\r\n        .attr(\"fill\", \"#d6d6d6\")\r\n        .style(\"stroke\", \"black\")\r\n        .style(\"stroke-width\", 2)\r\n        .on(\"mouseover\", function (event, d) {\r\n          d3.select(\"#tooltip-timeline\")\r\n            .style(\"left\", `${event.clientX}px`)\r\n            .style(\"top\", `${event.clientY - 225}px`)\r\n            .style(\"visibility\", \"visible\")\r\n            .html(`\r\n                    <strong>${d.Year}: ${d[\"Safety Measure\"]}</strong> <br/> ${d.Description}\r\n                `);\r\n        })\r\n        .on(\"mousemove\", function (event) {\r\n          d3.select(\"#tooltip-timeline\")\r\n            .style(\"left\", `${event.clientX}px`)\r\n            .style(\"top\", `${event.clientY - 225}px`)\r\n        })\r\n        .on(\"mouseout\", function () {\r\n          d3.select(\"#tooltip-timeline\").style(\"visibility\", \"hidden\");\r\n        });\r\n\r\n      var description = \"From the Wright Brothers‚Äô flight in 1903 to the skies we traverse today, the U.S. aviation industry has consistently pushed the boundaries of innovation to prioritize passenger safety. This timeline captures the evolution of key safety milestones ‚Äî from the introduction of seat belts and pressurized cabins in the early 20th century to modern breakthroughs like automated flight tracking systems, and Safety Management Systems (SMS). Recent advancements, including COVID-19 safety protocols and ongoing testing of autonomous aircraft, underscore the industry's ability to adapt to unforeseen challenges. Each milestone not only marks a technical achievement but also reflects an unwavering focus on ensuring air travel is safer, more reliable, and better equipped.\"\r\n\r\n      const availableHeight = height - data[6].y \r\n      const textYPosition = availableHeight > 30 ? availableHeight / 2 : 30; \r\n\r\n\r\n      g.selectAll(\".description\")\r\n        .data([1])\r\n        .join(\"text\")\r\n        .attr(\"class\", \"description\")\r\n        .attr(\"x\", 0) \r\n        .attr(\"y\", 30) \r\n        .attr(\"text-anchor\", \"left\")\r\n        .style(\"font-size\", \"20px\")\r\n        .style(\"font-family\", \"Open Sans\")\r\n        .style(\"text-justify\", \"inter-word\")\r\n        .style(\"line-height\", \"32px\")\r\n        .attr(\"fill\", \"#003366\")\r\n        .selectAll(\"tspan\")\r\n        .data(d => splitDescription(description, (width / 3) * 2.2, availableHeight))\r\n        .join(\"tspan\")\r\n        .attr(\"x\", (d, i, nodes) => d3.select(nodes[i].parentNode).attr(\"x\"))\r\n        .attr(\"dy\", (d, i) => (i === 0 ? 0 : 30)) \r\n        .text(d => d);\r\n\r\n      g.append(\"text\")\r\n        .attr(\"x\", width / 2)\r\n        .attr(\"y\", -10)\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .style(\"font-size\", \"30px\")\r\n        .text(\"Safety Measures Timeline\")\r\n        .attr(\"fill\", \"#003366\")\r\n        .style(\"font-weight\", \"bold\")\r\n\r\n      var transition = \"The story of aviation safety is one of relentless progress, where each innovation builds upon lessons learned from the past. By connecting technological advancements to tangible outcomes and visualizing it over time, we uncover how data driven strategies and adaptive measures have not only addressed vulnerabilities but also laid the groundwork for a safer and more resilient future in air travel.\"\r\n      g.selectAll(\".transition\")\r\n        .data([1])\r\n        .join(\"text\")\r\n        .attr(\"class\", \"transition\")\r\n        .attr(\"x\", (width / 3) + 30)\r\n        .attr(\"y\", height)\r\n        .attr(\"text-anchor\", \"left\")\r\n        .style(\"font-size\", \"20px\")\r\n        .style(\"text-justify\", \"inter-word\")\r\n        .style(\"text-align\", \"justify\")\r\n        .style(\"font-family\", \"Open Sans\")\r\n        .style(\"line-height\", \"32px\")\r\n        .attr(\"fill\", \"#003366\")\r\n        .selectAll(\"tspan\")\r\n        .data(d => {\r\n          return splitDescription(transition, (width / 3) * 2 - 70, height)\r\n        })\r\n        .join(\"tspan\")\r\n        .attr(\"x\", (d, i, nodes) => d3.select(nodes[i].parentNode).attr(\"x\"))\r\n        .attr(\"dy\", (d, i) => (i === 0 ? 0 : 30))\r\n        .text(d => d);\r\n\r\n      const planeIcon = g.append(\"text\")\r\n        .attr(\"x\", data[0].x - 15) \r\n        .attr(\"y\", data[0].y + 10)\r\n        .text(\"‚úàÔ∏è\")\r\n        .style(\"font-weight\", \"bold\")\r\n        .style(\"font-size\", \"30px\");\r\n\r\n      animateIconLoop(planeIcon, path, height);\r\n\r\n    }\r\n\r\n    function animateIconLoop(planeIcon, path, height) {\r\n      planeIcon\r\n        .attr(\"opacity\", 1) \r\n        .transition()\r\n        .duration(7000) \r\n        .ease(d3.easeLinear) \r\n        .attrTween(\"transform\", translateAlong(path.node(), height))\r\n        .on(\"end\", function () {\r\n          planeIcon.attr(\"opacity\", 0)\r\n          animateIconLoop(d3.select(this), path, height);\r\n        });\r\n\r\n    }\r\n\r\n    function translateAlong(path, height) {\r\n      var l = path.getTotalLength();\r\n      return function (d, i, a) {\r\n        return function (t) {\r\n          var p = path.getPointAtLength(t * l);\r\n          var py = p.y - height - 30\r\n          return \"translate(\" + p.x + \",\" + py + \")\";\r\n        };\r\n      };\r\n    }\r\n\r\n    function calculateLabelPosition(points, i) {\r\n      const padding = 15;\r\n      let xOffset = 0, yOffset = 0;\r\n\r\n      if (i < points.length - 1) {\r\n        const x1 = points[i].x, y1 = points[i].y;\r\n        const x2 = points[i + 1].x, y2 = points[i + 1].y;\r\n        const slope = (y2 - y1) / (x2 - x1);\r\n\r\n        if (Math.abs(slope) > 1) {\r\n          xOffset = slope > 0 ? -padding : 2 * padding;\r\n          yOffset = 1.5 * padding;\r\n        } else {\r\n          xOffset = 1.5 * padding;\r\n          yOffset = slope > 0 ? -2 * padding : 2 * padding;\r\n        }\r\n      }\r\n\r\n      if (i === points.length - 1) {\r\n        xOffset = 0;\r\n        yOffset = -1.6 * padding;\r\n      }\r\n\r\n      return { xOffset, yOffset };\r\n    }\r\n\r\n    function splitDescription(description, maxWidth, availableHeight) {\r\n      const words = description.split(\" \");\r\n      const lines = [];\r\n      let currentLine = \"\";\r\n      let flag = 0;\r\n      const tempText = d3.select(\"svg\").append(\"text\").style(\"font-size\", \"20px\").style(\"font-family\", \"Open Sans\");\r\n      words.forEach(word => {\r\n        currentLine += word + \" \";\r\n        tempText.text(currentLine);\r\n        if (tempText.node().getComputedTextLength() > maxWidth) {\r\n          lines.push(currentLine.trim());\r\n          if (lines.length * 30 >= availableHeight && flag === 0) {\r\n            maxWidth = maxWidth / 3;\r\n            flag = 1;\r\n          }\r\n          currentLine = word + \" \";\r\n        }\r\n      });\r\n      if (currentLine) {\r\n        lines.push(currentLine.trim());\r\n      }\r\n      tempText.remove();\r\n\r\n      return lines;\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"timeline-container\" className=\"timeline-container\">\r\n      <svg id=\"timeline-line\"></svg>\r\n      <div className=\"tooltip-timeline\" id=\"tooltip-timeline\" style={{ position: \"absolute\", visibility: \"hidden\" }}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AviationSafetyTimeline;\r\n","import * as d3 from 'd3';\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport { AirportContext } from './../AirportContext';\r\nimport '../styles/flight_delays.css';\r\nimport {splitDescriptionIntoLines} from './SafetyMeasures';\r\n\r\nconst FlightDelayChart = () => {\r\n    var { airport } = useContext(AirportContext);\r\n    useEffect(() => {\r\n        d3.select('#sunburst').selectAll('*').remove();\r\n\r\n        d3.csv(`${process.env.PUBLIC_URL}/data/flight_delay_data.csv`)\r\n            .then(rawData => {\r\n                var svg_label;\r\n                if (airport === undefined || airport === null || airport === '') {\r\n                    airport = { city_name: \"USA\" };\r\n                }\r\n                if (airport.city_name === \"USA\") {\r\n                    svg_label = \"Overview of All Airports Across the U.S.\";\r\n                } else {\r\n                    svg_label = (`Detailed Insights for Airport: ${airport.city_name}`);\r\n                }\r\n                const filteredData = rawData.filter(d => d.origin_city_name.includes(airport.city_name.split(',')[0]));\r\n\r\n                if (filteredData.length === 0) {\r\n                    console.warn(`No data found for airport: ${airport.city_name}`);\r\n                    svg_label = (`No data found for airport: ${airport.city_name}`);\r\n                }\r\n\r\n                const width = +d3.select(\"#sunburst\").style(\"width\").replace(\"px\", \"\");\r\n                const height = +d3.select(\"#sunburst\").style(\"height\").replace(\"px\", \"\");                \r\n                const radius = Math.min(width, height) / 7;\r\n\r\n                const svg = d3.select('#sunburst').append(\"g\")\r\n                .attr(\"transform\", `translate(${width / 2}, ${height / 2})`)\r\n                .attr(\"viewBox\", [-width / 2, -height / 2, width, width])\r\n                .style(\"font\", \"10px sans-serif\"); \r\n\r\n                svg.selectAll(\"#svg_label\")\r\n                .data([svg_label])\r\n                .join(\"text\")\r\n                    .attr(\"x\", -radius / 2)\r\n                    .attr(\"y\", radius * 3)\r\n                    .attr(\"text-anchor\", \"middle\")\r\n                    .style(\"font-size\", \"20px\")\r\n                    .attr(\"id\", \"svg_label\")\r\n                    .attr(\"fill\", \"#003366\")\r\n                    .style(\"font-weight\", \"bold\")\r\n                    .selectAll(\"tspan\")\r\n                    .data(d => {\r\n                      return splitDescriptionIntoLines(d, 50)\r\n                    })\r\n                    .join(\"tspan\")\r\n                    .attr(\"x\", (d, i, nodes) => d3.select(nodes[i].parentNode).attr(\"x\")) \r\n                    .attr(\"dy\", (d, i) => (i === 0 ? 0 : 25)) \r\n                    .text(d => d);  \r\n\r\n                const data = {\r\n                    name: \"Flight\",\r\n                    children: [\r\n                        {\r\n                            name: \"No Delay\",\r\n                            key: \"no_delay\",\r\n                            size: +filteredData[0].no_delay,\r\n                        },\r\n                        {\r\n                            name: \"Departure Delay\",\r\n                            key: \"dep_delay\",\r\n                            size: +filteredData[0].dep_delay,\r\n                        },\r\n                        {\r\n                            name: \"Arrival Delay\",\r\n                            key: \"arr_delay\",\r\n                            children: [\r\n                                { name: \"Weather\", key: \"weather_delay_count\", size: +filteredData[0].weather_delay_count },\r\n                                { name: \"Carrier\", key: \"carrier_delay_count\", size: +filteredData[0].carrier_delay_count },\r\n                                { name: \"Security\", key: \"security_delay_count\", size: +filteredData[0].security_delay_count },\r\n                                { name: \"NAS\", key: \"nas_delay_count\", size: +filteredData[0].nas_delay_count },\r\n                                { name: \"Late Aircraft\", key: \"late_aircraft_delay_count\", size: +filteredData[0].late_aircraft_delay_count },\r\n                            ],\r\n                        },\r\n                        {\r\n                            name: \"Diverted\",\r\n                            key: \"diverted\",\r\n                            size: +filteredData[0].diverted,\r\n                        },\r\n                        {\r\n                            name: \"Cancelled\",\r\n                            key: \"cancelled\",\r\n                            children: [\r\n                                { name: \"Code A\", key: \"cancellation_code_a\", size: +filteredData[0].cancellation_code_a },\r\n                                { name: \"Code B\", key: \"cancellation_code_b\", size: +filteredData[0].cancellation_code_b },\r\n                                { name: \"Code C\", key: \"cancellation_code_c\", size: +filteredData[0].cancellation_code_c },\r\n                                { name: \"Code D\", key: \"cancellation_code_d\", size: +filteredData[0].cancellation_code_d },\r\n                            ],\r\n                        }\r\n                    ],\r\n                };\r\n\r\n                const color = d3.scaleOrdinal(d3.quantize(d3.interpolateRainbow, data.children.length + 1));\r\n\r\n                const hierarchy = d3.hierarchy(data)\r\n                    .sum(d => d.size)\r\n                    .sort((a, b) => b.size - a.size);\r\n\r\n                const root = d3.partition()\r\n                    .size([2 * Math.PI, hierarchy.height + 1])\r\n                    (hierarchy);\r\n\r\n                root.each(d => d.current = d);\r\n\r\n                var tooltip_delay = d3.select(\"body\").append(\"div\").attr(\"class\", \"tooltip-delay\").style('opacity', 0);\r\n\r\n                const arc = d3.arc()\r\n                    .startAngle(d => d.x0)\r\n                    .endAngle(d => d.x1)\r\n                    .padAngle(d => Math.min((d.x1 - d.x0) / 2, 0.005))\r\n                    .padRadius(radius * 1.5)\r\n                    .innerRadius(d => d.y0 * radius)\r\n                    .outerRadius(d => Math.max(d.y0 * radius, d.y1 * radius - 1))             \r\n\r\n                const path = svg.append(\"g\")\r\n                    .selectAll(\"path\")\r\n                    .data(root.descendants().slice(1))\r\n                    .join(\"path\")\r\n                    .attr(\"fill\", d => { while (d.depth > 1) d = d.parent; return color(d.data.name); })\r\n                    .attr(\"fill-opacity\", d => arcVisible(d.current) ? (d.children ? 0.9 : 0.6) : 0)\r\n                    .attr(\"pointer-events\", d => arcVisible(d.current) ? \"auto\" : \"none\")\r\n                    .attr(\"d\", d => arc(d.current))\r\n                    .on(\"mouseover\", function (event, d) {\r\n                        tooltip_delay.style(\"opacity\", 1);\r\n                        tooltip_delay.html(`${d.data.name}: ${filteredData[0][d.data.key]}`)\r\n                            .style(\"left\", (event.pageX) + \"px\")\r\n                            .style(\"top\", (event.pageY - 10) + \"px\");\r\n                    })\r\n                    .on(\"mousemove\", function (event) {\r\n                        tooltip_delay\r\n                            .style(\"left\", (event.pageX) + \"px\")\r\n                            .style(\"top\", (event.pageY - 10) + \"px\");\r\n                    })\r\n                    .on(\"mouseout\", function () {\r\n                        tooltip_delay.transition()\r\n                            .duration(500)\r\n                            .style(\"opacity\", 0);\r\n                    });\r\n\r\n                path.filter(d => d.children)\r\n                    .style(\"cursor\", \"pointer\")\r\n                    .on(\"click\", clicked);\r\n\r\n                const label = svg.append(\"g\")\r\n                    .attr(\"pointer-events\", \"none\")\r\n                    .attr(\"text-anchor\", \"middle\")\r\n                    .style(\"user-select\", \"none\")\r\n                    .selectAll(\"text\")\r\n                    .data(root.descendants().slice(1))\r\n                    .join(\"text\")\r\n                    .attr(\"dy\", \"0.35em\")\r\n                    .attr(\"fill-opacity\", d => +labelVisible(d.current))\r\n                    .attr(\"transform\", d => labelTransform(d.current))\r\n                    .text(d => d.data.name);\r\n\r\n                const parent = svg.append(\"circle\")\r\n                    .datum(root)\r\n                    .attr(\"r\", radius)\r\n                    .attr(\"fill\", \"none\")\r\n                    .attr(\"pointer-events\", \"all\")\r\n                    .on(\"click\", clicked);\r\n\r\n                function clicked(event, p) {\r\n                    parent.datum(p.parent || root);\r\n\r\n                    root.each(d => d.target = {\r\n                        x0: Math.max(0, Math.min(1, (d.x0 - p.x0) / (p.x1 - p.x0))) * 2 * Math.PI,\r\n                        x1: Math.max(0, Math.min(1, (d.x1 - p.x0) / (p.x1 - p.x0))) * 2 * Math.PI,\r\n                        y0: Math.max(0, d.y0 - p.depth),\r\n                        y1: Math.max(0, d.y1 - p.depth)\r\n                    });\r\n\r\n                    const t = svg.transition().duration(750);\r\n\r\n                    path.transition(t)\r\n                        .tween(\"data\", d => {\r\n                            const i = d3.interpolate(d.current, d.target);\r\n                            return t => d.current = i(t);\r\n                        })\r\n                        .filter(function (d) {\r\n                            return +this.getAttribute(\"fill-opacity\") || arcVisible(d.target);\r\n                        })\r\n                        .attr(\"fill-opacity\", d => arcVisible(d.target) ? (d.children ? 0.8 : 0.4) : 0)\r\n                        .attr(\"pointer-events\", d => arcVisible(d.target) ? \"auto\" : \"none\")\r\n                        .attrTween(\"d\", d => () => arc(d.current));\r\n\r\n                    label.filter(function (d) {\r\n                        return +this.getAttribute(\"fill-opacity\") || labelVisible(d.target);\r\n                    }).transition(t)\r\n                        .attr(\"fill-opacity\", d => +labelVisible(d.target))\r\n                        .attrTween(\"transform\", d => () => labelTransform(d.current));\r\n                }\r\n\r\n                function arcVisible(d) {\r\n                    return d.y1 <= 3 && d.y0 >= 1 && d.x1 > d.x0;\r\n                }\r\n\r\n                function labelVisible(d) {\r\n                    return d.y1 <= 3 && d.y0 >= 1 && (d.y1 - d.y0) * (d.x1 - d.x0) > 0.03;\r\n                }\r\n\r\n                function labelTransform(d) {\r\n                    const x = (d.x0 + d.x1) / 2 * 180 / Math.PI;\r\n                    const y = (d.y0 + d.y1) / 2 * radius;\r\n                    return `rotate(${x - 90}) translate(${y},0) rotate(${x < 180 ? 0 : 180})`;\r\n                }\r\n\r\n                svg.append(\"text\")\r\n                    .attr(\"x\", -radius / 2)\r\n                    .attr(\"y\", -radius * 3.2)\r\n                    .attr(\"text-anchor\", \"middle\")\r\n                    .style(\"font-size\", \"26px\")\r\n                    .text(\"Flight Delays and Cancellations\")\r\n                    .attr(\"fill\", \"#003366\")\r\n                    .style(\"font-weight\", \"bold\")\r\n\r\n\r\n                    const legend = svg.append('g')\r\n                    .attr('class', 'legend')\r\n                    .attr('transform', `translate(${(radius*1.65)}, ${-radius * 2.8})`);\r\n        \r\n                legend.append('text')\r\n                    .attr('x', 10)\r\n                    .attr('y', 10)\r\n                    .attr('text-anchor', 'center')\r\n                    .style('font-size', '18px')\r\n                    .text('Cancellation Codes')\r\n                    .attr(\"fill\", \"#003366\")\r\n                    .style(\"font-weight\", \"bold\");\r\n\r\n                    legend.append('text')\r\n                    .attr('x', 10)\r\n                    .attr('y', 30)\r\n                    .attr('text-anchor', 'center')\r\n                    .style('font-size', '15px')\r\n                    .text('Code A - Carrier')\r\n                    .attr(\"fill\", \"#003366\");\r\n\r\n                    legend.append('text')\r\n                    .attr('x', 10)\r\n                    .attr('y', 50)\r\n                    .attr('text-anchor', 'center')\r\n                    .style('font-size', '15px')\r\n                    .text('Code B - Weather')\r\n                    .attr(\"fill\", \"#003366\");\r\n\r\n                    legend.append('text')\r\n                    .attr('x', 10)\r\n                    .attr('y', 70)\r\n                    .attr('text-anchor', 'center')\r\n                    .style('font-size', '15px')\r\n                    .text('Code C - NAS')\r\n                    .attr(\"fill\", \"#003366\");\r\n\r\n                    legend.append('text')\r\n                    .attr('x', 10)\r\n                    .attr('y', 90)\r\n                    .attr('text-anchor', 'center')\r\n                    .style('font-size', '15px')\r\n                    .text('Code D - Security')\r\n                    .attr(\"fill\", \"#003366\");\r\n\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error loading the CSV data: \", error);\r\n            });\r\n    }, [airport]);\r\n\r\n    return (\r\n        <div>\r\n            <p className=\"flightDelayText\">Air travel is a marvel of modern logistics, yet delays and cancellations remain persistent hurdles, impacting both passengers and operations. This sunburst chart unpacks the story behind these disruptions, ranging from weather disruptions and carrier delays to issues like air traffic control and mechanical failures. It offers a layered perspective, allowing us to explore the interplay of these factors at both the national and local levels. By delving into this data, we gain valuable insights into the pressure points within the aviation system, offering actionable insights to enhance efficiency and reliability for travelers across the U.S.\r\n            </p>\r\n            <svg id=\"sunburst\"></svg>\r\n            {/* <p className=\"flightDelayText\">It dynamically displays data for either the city selected in the map above or the entire U.S., providing both localized and nationwide perspectives on flight delays and cancellations.</p> */}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default FlightDelayChart;"],"names":["splitDescriptionIntoLines","description","maxWidth","words","split","lines","currentLine","i","length","push","trim","AviationSafetyTimeline","timelineData","setTimelineData","useState","useEffect","animateIconLoop","planeIcon","path","height","attr","transition","duration","ease","d3","attrTween","l","getTotalLength","d","a","t","p","getPointAtLength","py","y","x","translateAlong","node","on","this","calculateLabelPosition","points","xOffset","yOffset","x1","y1","x2","slope","Math","abs","splitDescription","availableHeight","flag","tempText","append","style","forEach","word","text","getComputedTextLength","remove","then","rawData","data","g","width","replace","stepX","sin","PI","lineGenerator","curve","selectAll","join","max","event","clientX","clientY","html","Year","Description","nodes","parentNode","Icon","datum","gradient","createTimeline","map","row","measure","sort","b","parseInt","catch","error","console","_jsxs","id","className","children","_jsx","position","visibility","FlightDelayChart","airport","useContext","AirportContext","svg_label","undefined","city_name","filteredData","filter","origin_city_name","includes","warn","radius","min","svg","name","key","size","no_delay","dep_delay","weather_delay_count","carrier_delay_count","security_delay_count","nas_delay_count","late_aircraft_delay_count","diverted","cancellation_code_a","cancellation_code_b","cancellation_code_c","cancellation_code_d","color","hierarchy","sum","root","each","current","tooltip_delay","arc","startAngle","x0","endAngle","padAngle","padRadius","innerRadius","y0","outerRadius","descendants","slice","depth","parent","arcVisible","pageX","pageY","clicked","label","labelVisible","labelTransform","target","tween","getAttribute","legend"],"sourceRoot":""}